# gcc
[原文][1]
标签（空格分隔）： c gcc

---
# gcc
- gcc 原来代表“GNU C Compiler”的意思，GCC 逐渐扩充、发展意思被重新定义为“GNU Compiler Collection”，也即“GUN 编译器套件”。
- 初衷是为GNU操作系统专门编写的一款编译器
- 是以GPL许可证所发行的自由软件
## GPL 

1985 年由 MIT 教授理查德·斯托曼（Richard Stallman）提出应将软件源码看成人类共同拥有的知识财富，应该公开地自由交换、修改，提出了 GNU 计划（因英文名相同，GNU 的 logo 就是一只牛羚），并建立了自由软件基金会；同时，发布了一份举足轻重的法律文件，GNU 通用公共授权书（GNU GPL, GNU General Public License）。

GPL 协议的核心就是要对源码进行公开，并且允许任何人修改源码，但是只要使用了 GPL 协议的软件源码，其衍生软件也必须公开源码，准许其他人阅读和修改源码，即 GPL 协议具有继承性。

## 编译步骤
GCC 编译器在编译一个C语言程序时需要经过以下 4 步：
 1. 将C语言源程序预处理，生成.i文件。
 2. 预处理后的.i文件编译成为汇编语言，生成.s文件。
 3. 将汇编语言文件经过汇编，生成目标文件.o文件。
 4.  将各个模块的.o文件链接起来生成一个可执行程序文件。

## 命令
<table>
<tr><td>gcc编译选项</td><td>选项的意义</td></tr>
<tr><td>-c</td><td>编译、汇编指定的源文件，但是不进行链接</td></tr>
<tr><td>-S</td><td>编译指定的源文件，但是不进行汇编</td></tr>
<tr><td>-E</td><td>预处理指定的源文件，不进行编译</td></tr>
<tr><td>-o [file1] [file2]</td><td>将文件 file2 编译成可执行文件 file1</td></tr>
<tr><td>-I directory</td><td>指定 include 包含文件的搜索目录</td></tr>
<tr><td>-g</td><td>生成调试信息，该程序可以被调试器调试</td></tr>
</table>

- -c编译：gcc -c main.c
    - 生产.o文件：一个源文件会生成一个目标文件，多个源文件会生成多个目标文件，源文件数目和目标文件数目是一样的。通常情况下，默认的目标文件名字和源文件名字是一样的。

- -o 指定输出文件名称 :gcc -c main.c -o a.o
- 链接（Link）:gcc main.o
    - 在gcc命令后面紧跟目标文件的名字，就可以将目标文件链接成为可执行文件
- -save-temps
    - 正常地编译和链接，但是会把预处理器输出、汇编语言和对象文件全部存储在当前目录下。使用 -save-temps 选项所生成的中间文件，与对应的源文件具有相同的文件名，但文件扩展名分别为.i、.s和.o，分别表示为预处理输出、汇编语言输出和对象文件

  [1]: http://m.biancheng.net/view/2366.html